(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3200:function(e,t,a){Promise.resolve().then(a.bind(a,8374))},8374:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return G},getGroqChatCompletion:function(){return F}});var n=a(7437),o=a(1326),r=a(511),i=a(5343),l=a(8700),s=a(7038),c=a(6548),d=a(2326),p=a(8433),u=a(335),x=a(5236),h=a(9675),f=a(9842);let b=(0,x.ZF)({apiKey:"AIzaSyD1dqr5u7BZXevhHqAIod1CJULkk0fz1hg",authDomain:"pantrymanagement-b07e7.firebaseapp.com",projectId:"pantrymanagement-b07e7",storageBucket:"pantrymanagement-b07e7.appspot.com",messagingSenderId:"489307278042",appId:"1:489307278042:web:45daafd170b67fbab233e3",measurementId:"G-FSF5H4851M"}),m=(0,f.ad)(b);(0,h.Gb)().then(e=>{e&&(0,h.IH)(b)});var g=a(2265),w=a(5253),j=a(7622),k=a(7699),v=a(2286),y=a(2427),Z=a(5786),C=a(2223);let I={width:"100vw",height:"100vh",display:"flex",alignItems:"left",flexDirection:"column",gap:2,fontFamily:"Roboto, sans-serif",padding:"2px",backgroundImage:"url(/assets/background.jpeg)",backgroundSize:"cover",backgroundPosition:"center",bgcolor:"#ebe1d7"},S={position:"absolute",top:"50%",left:"50%",width:400,bgcolor:"#ffffff",border:"2px solid #6200ea",borderRadius:"8px",p:4,display:"flex",flexDirection:"column",gap:2,transform:"translate(-50%, -50%)"},A={width:"780px",height:"400px",overflowY:"auto",border:"1px solid #ccc",borderRadius:"12px",padding:"16px",bgcolor:"#ffffff",marginLeft:"110px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.1)","&:hover":{boxShadow:"0 8px 24px rgba(0, 0, 0, 0.2)"},"&::-webkit-scrollbar":{width:"12px"},"&::-webkit-scrollbar-track":{background:"#f0f0f0",borderRadius:"10px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#888",borderRadius:"10px",border:"3px solid #f0f0f0"},"&::-webkit-scrollbar-thumb:hover":{backgroundColor:"#555"}},R={width:"180px",height:"170px",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",bgcolor:"#ebe1d7",borderRadius:"4px",padding:"5px",marginBottom:"10px",position:"relative","&:hover":{bgcolor:"#ccbcb6"}},P={backgroundColor:"#ff6f61",color:"#ffffff","&:hover":{backgroundColor:"#ff4a4a"}},N={position:"absolute",top:"8px",right:"8px",backgroundColor:"#ff1744",color:"#ffffff","&:hover":{backgroundColor:"#c81032"}},O={fontFamily:"Poppins, sans-serif",fontWeight:"bold",fontSize:"1.5rem",color:"#000000"},E={"& .MuiOutlinedInput-root":{width:"800px",borderRadius:"50px",backgroundColor:"#ffffff",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",transition:"box-shadow 0.3s ease","&:hover":{boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"},"&.Mui-focused":{boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"}},"& .MuiInputAdornment-root":{color:"#888"}},L={display:"flex",justifyContent:"left",width:"100%",marginLeft:"112px"},J={display:"flex",justifyContent:"space-between",width:"100%"},M=new C.ZP({apiKey:"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",dangerouslyAllowBrowser:!0});async function F(e){var t,a;return(null===(a=(await M.chat.completions.create({messages:[{role:"user",content:"Give me the  nutritional values of ".concat(e," as a simple paragraph which is easy to understand, dont repeat the prompt in the response ")}],model:"llama3-8b-8192"})).choices[0])||void 0===a?void 0:null===(t=a.message)||void 0===t?void 0:t.content)||""}function G(){let[e,t]=(0,g.useState)([]),[a,x]=(0,g.useState)([]),[h,b]=(0,g.useState)(!1),C=()=>b(!1),[M,G]=(0,g.useState)(""),[T,_]=(0,g.useState)(1),[z,B]=(0,g.useState)(""),[Q,U]=(0,g.useState)({}),[D,H]=(0,g.useState)({}),W=async()=>{let e=(0,f.IO)((0,f.hJ)(m,"pantry")),a=await (0,f.PL)(e),n=[];a.forEach(e=>{n.push({name:e.id,...e.data()})}),t(n),x(n)};(0,g.useEffect)(()=>{W()},[]),(0,g.useEffect)(()=>{""===z?x(e):x(e.filter(e=>e.name.toLowerCase().includes(z.toLowerCase())))},[z,e]);let q=async(e,t)=>{if(!e.trim()){alert("Item name cannot be empty!");return}console.log(await F(e));let a=(0,f.JU)((0,f.hJ)(m,"pantry"),e),n=await (0,f.QT)(a);if(n.exists()){let e=n.data().count||0;await (0,f.pl)(a,{count:e+t})}else await (0,f.pl)(a,{count:t});await W()},K=async e=>{let t=(0,f.JU)((0,f.hJ)(m,"pantry"),e),a=await (0,f.QT)(t);if(a.exists()){let e=a.data().count;1===e?await (0,f.oe)(t):await (0,f.pl)(t,{count:e-1}),await W()}},Y=async e=>{let t={...Q};if(t[e]=!t[e],U(t),t[e]){let t=await F(e);H(a=>({...a,[e]:t}))}else H(t=>{let a={...t};return delete a[e],a})};return(0,n.jsxs)(o.Z,{sx:I,children:[(0,n.jsx)(r.Z,{variant:"h1",textAlign:"center",sx:{...O,mt:7,letterSpacing:"1rem",mb:1},children:"THE PANTRY SHACK"}),(0,n.jsx)(i.Z,{open:h,onClose:C,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,n.jsxs)(o.Z,{sx:S,children:[(0,n.jsx)(r.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"New Item"}),(0,n.jsxs)(l.Z,{spacing:2,children:[(0,n.jsx)(s.Z,{id:"outlined-basic",label:"Item",variant:"outlined",fullWidth:!0,value:M,onChange:e=>G(e.target.value)}),(0,n.jsx)(s.Z,{id:"outlined-basic-count",label:"Quantity",variant:"outlined",type:"number",value:T,onChange:e=>_(parseInt(e.target.value,10))}),(0,n.jsx)(c.Z,{variant:"contained",sx:{...P,backgroundColor:"black"},onClick:()=>{q(M,T),G(""),_(1),C()},children:"Add"})]})]})}),(0,n.jsxs)(o.Z,{sx:L,children:[(0,n.jsx)(s.Z,{sx:{...E,"& .MuiOutlinedInput-root":{height:"40px",padding:"0 10px",width:"600px",mt:4,backgroundColor:"white"},"& .MuiInputBase-input":{fontSize:"0.875rem"}},variant:"outlined",placeholder:"Search for items",value:z,onChange:e=>B(e.target.value),InputProps:{startAdornment:(0,n.jsx)(d.Z,{position:"start",children:(0,n.jsx)(k.Z,{})})}}),(0,n.jsxs)(c.Z,{variant:"contained",onClick:()=>b(!0),sx:{...P,marginLeft:"15px",backgroundColor:"black",height:"38px",mt:4,"&:hover":{backgroundColor:"#333"}},children:[(0,n.jsx)(w.Z,{}),"Add New Item"]}),(0,n.jsx)(r.Z,{variant:"h6",sx:{textAlign:"center",mt:4,ml:14,color:"black"},children:"NUTRITIONAL INFORMATION"})]}),(0,n.jsxs)(p.ZP,{container:!0,spacing:2,justifyContent:"center",children:[(0,n.jsxs)(p.ZP,{item:!0,xs:8,children:[" ",(0,n.jsx)(o.Z,{sx:A,children:(0,n.jsx)(p.ZP,{container:!0,spacing:2,justifyContent:"center",children:a.map(e=>(0,n.jsxs)(p.ZP,{item:!0,xs:3,children:[" ",(0,n.jsxs)(o.Z,{sx:R,children:[(0,n.jsx)(u.Z,{"aria-label":"delete",onClick:async()=>{await (0,f.oe)((0,f.JU)((0,f.hJ)(m,"pantry"),e.name)),await W()},sx:N,children:(0,n.jsx)(j.Z,{fontSize:"small"})}),(0,n.jsxs)(r.Z,{variant:"h7",style:{textAlign:"left",width:"100%",color:"black"},children:["Qty: ",e.count]}),(0,n.jsx)(r.Z,{variant:"h5",style:{textAlign:"center",width:"100%",color:"black"},children:e.name}),(0,n.jsxs)(o.Z,{sx:J,children:[(0,n.jsx)(u.Z,{"aria-label":"increase",onClick:()=>q(e.name,1),children:(0,n.jsx)(v.Z,{color:"black"})}),(0,n.jsx)(Z.Z,{checked:!!Q[e.name],onChange:()=>Y(e.name)}),(0,n.jsx)(u.Z,{"aria-label":"decrease",onClick:()=>K(e.name),children:(0,n.jsx)(y.Z,{color:"black"})})]})]})]},e.name))})})]}),(0,n.jsxs)(p.ZP,{item:!0,xs:4,children:[" ",(0,n.jsx)(o.Z,{sx:{...A,marginLeft:"-30px",width:"400px"},children:0===Object.entries(D).length?(0,n.jsx)(r.Z,{variant:"body1",textAlign:"center",children:"Select an item to see nutritional info"}):Object.entries(D).map(e=>{let[t,a]=e;return(0,n.jsx)(o.Z,{sx:{marginBottom:2,color:"black"},children:(0,n.jsx)(r.Z,{variant:"body1",children:a})},t)})})]})]})]})}}},function(e){e.O(0,[358,911,971,23,744],function(){return e(e.s=3200)}),_N_E=e.O()}]);